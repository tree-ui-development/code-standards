<!-- #### JAVSCRIPT SECTION #### -->

<section id="js">

	<div class="intro has-icon">
		<img class="icon" src="css/img/icon-curly.png" alt="{}" />

		<h1>JavaScript</h1>
	
		<p>El código JavaScript, cuando se aplica correctamente a una página web, mejora la experiencia de usuario global y basada en navegador a través de la asociación a eventos y el control de la capa de comportamiento en general.</p>

		<p>JavaScript ha visto una explosión en popularidad en los últimos años debido a las potentes nuevas implementaciones de los navegadores que han facultado finalmente la creación de aplicaciones totalmente basadas en el navegador web. Además, un uso cuidadoso de JavaScript permite la completa manipulación y control sobre los otros dos componentes de la creación de páginas web, <a href="#markup">el etiquetado HTML</a> y <a href="#css">las CSS</a>. Hoy en día la estructura de las páginas y los estilos visuales de las páginas pueden ser manipulados en tiempo real sin necesidad de actualizar la página web completa.</p>
	</div>

	<h2>Bibliotecas JavaScript</h2>

		<p class="normalize">Principalmente desarrollamos nuevas aplicaciones en <a href="http://api.jquery.com/">jQuery</a>, aunque tenemos un gran dominio del JavaScript normal, así como de todas las bibliotecas modernas de javascript más importantes.</p>
	
	<h2>Principios Generales de Creación de Código</h2>
	
	<ul>
		<li>99% del código debe estar alojado en archivos JavaScript externos. Deben ser incluidos al FINAL de la etiqueta BODY para obtener un rendimiento máximo de página.</li>
		<li>No se base en la cadena de agente de usuario (user-agent). Haga una adecuada detección de características. (Más información en <a href="http://diveintohtml5.info/detect.html">Dive Into HTML5: Detection</a> y <a href="http://api.jquery.com/jQuery.support/">la documentación jQuery.support</a>)</li>
		<li>No utilice document.write ().</li>
		<li>Todas las variables booleanas deben comenzar con "is".
			<figure class="preCode">Probando condiciones positivas</figure>
			<textarea class="brush:js">
			isValid = (test.value >= 4 && test.success);
			</textarea>
		</li>

		<li>Nombre las variables y funciones lógicamente. Por ejemplo: <code>popUpWindowForAd</code> en lugar de <code>myWindow</code>.</li>
        <li>No minimice manualmente. A excepción de la tradicional <code>i</code>, etc. para bucles <code>for</code>, las variables deben ser lo suficientemente largas para que tengan sentido.</li>
		<li>La documentación debe seguir la estructura de <a href="http://www.naturaldocs.org/documenting.html">NaturalDocs</a>.</li>
		<li>Las constantes o variables de configuración (como la duración de las animaciones, etc.) deben estar en la parte superior del archivo.</li>
		<li>Esfuércese por crear funciones que puedan ser generalizadas, tomar parámetros y devolver valores. Esto permite la reutilización sustancial del código y cuando se combina con includes o scripts externos, puede reducir la sobrecarga cuando los scripts tienen que cambiar. Por ejemplo, en lugar de escribir  directamente el código de una ventana emergente con el tamaño de la ventana, opciones y url, considere el crear una función que tome el tamaño, url y opciones como variables.
		</li>
		<li>¡Comente su código! Ayuda a reducir el tiempo dedicado a solucionar problemas de funciones de JavaScript.</li>
		<li>No pierda su tiempo con comentarios <code>&lt;!-- --&gt;</code> en torno a su javascript incrustado, a menos que se preocupe por Netscape 4.&nbsp;:)</li>
		<li>Organice su código como un <a href="http://kaijaeger.com/articles/the-singleton-design-pattern-in-javascript.html">Objeto Literal/Singleton</a>, en el <a href="http://www.yuiblog.com/blog/2007/06/12/module-pattern/">Patrón de Módulo</a>, o como un <a href="http://mckoss.com/jscript/object.htm">Objeto con constructores</a></a>.</li>
	
	  <li>Minimice las variables globales. Mientras menos globales cree, mejor. Generalmente una para el namespace de su aplicación, es un buen número. 
			<figure class="preCode">Cuando especifique cualquier variable global, identifíquela claramente</figure>		
			<textarea class="brush:js">
			window.globalVar = { ... }
			</textarea>
		</li>
	</ul>
	
	<h3>Espacio en blanco</h3>
	
	<p>En general, el uso de espacios en blanco debe seguir las convenciones de la lectura en inglés de larga data. Por lo que deberá haber un espacio después de cada coma y dos puntos (y el punto y coma en su caso), pero ningún espacio directamente al lado interior derecho e izquierdo de los paréntesis. En definitiva, abogamos por la legibilidad dentro de lo razonable. Además, las llaves siempre deben aparecer en la misma línea que su argumento precedente.</p>
	
	<p>Considere los siguientes ejemplos de un bucle for de JavaScript...</p>
	
	<figure class="preCode">Correcto</figure>
	<textarea class="brush:js">
		for (var i = 0, j = arr.length; i < j; i++) {
			// Do something.
		}
	</textarea>
	
	<figure class="preCode">Incorrecto</figure>
	<textarea class="brush:js">
		for ( var i = 0, j = arr.length; i < j; i++ )
		{
			// Do something.
		}
	</textarea>
	
	<figure class="preCode">También incorrecto</figure>
	<textarea class="brush:js">
		for(var i=0,j=arr.length;i<j;i++){
			// Do something.
		}
	</textarea>


	<h3>plugins.js and script.js</h3>
	
	<p>Empezando con la H5BP se nos presentan dos archivos, plugins.js y script.js. Esta sección describe el uso básico de estos dos archivos.</p>
	
	<h4>plugins.js</h4>
	
	<p>Plugins.js está destinado a contener todo el código de los plugins del sitio. En lugar de vincular a muchos archivos diferentes, se puede mejorar el rendimiento mediante la inclusión del código de los plugins directamente en este archivo. Pueden y deben haber excepciones a este uso. Un plugin muy grande utilizado en una página poco visitada, por ejemplo, podría ser mejor en una descarga por separado, al cual se accede solamente en la página específica. La mayor parte del tiempo, sin embargo, es seguro pegar las versiones minimizadas de todos sus plugins aquí para facilitar el acceso.</p>

	<p>Aquí tiene un ejemplo de como se vería un archivo de ejemplo, incluyendo una pequeña tabla de contenido. Esto puede servir como una guía práctica sobre qué plugins se están usando, incluyendo URLs para documentación, justificación de uso y similares.</p>
	
	<textarea class="brush:js">
	/* PLUGIN DIRECTORY
	What you can find in this file [listed in order they appear]
	
		   1.) Animate Background Position - http://plugins.jquery.com/project/backgroundPosition-Effect
		   2.) jQuery Easing Plugin - http://gsgd.co.uk/sandbox/jquery/easing/
		   3.) jQuery Ajax Form plugin - http://jquery.malsup.com/form/#download            
		   4.) jQuery validation plugin (form validation) - http://docs.jquery.com/Plugins/Validation
			   -password strength
		   5.) Styled Selects (lightweight) - http://code.google.com/p/lnet/wiki/jQueryStyledSelectOverview
	*/
	
	/**
	* 1.) Animate Background Position - http://plugins.jquery.com/project/backgroundPosition-Effect
	* @author Alexander Farkas
	* v. 1.21
	*/
	(function($) {
	   if(!document.defaultView || !document.defaultView.getComputedStyle){ // IE6-IE8
	   //SNIPPED
	   };
	})(jQuery);
	
	
	/**
	* 2.) jQuery Easing Plugin (we're not using jQuery UI as of yet) - http://gsgd.co.uk/sandbox/jquery/easing/
	*/
	
	// t: current time, b: begInnIng value, c: change In value, d: duration
	jQuery.easing['jswing'] = jQuery.easing['swing'];
	
	jQuery.extend( jQuery.easing,
	{
	   //SNIPPED
	   
	});
	;(function($) {
	   $.fn.ajaxSubmit = function(options) {
	   //SNIPPED
	   }
	})(jQuery);
	
	/*
	* jQuery Styled Select Boxes
	* version: 1.1 (2009/03/24)
	* @requires jQuery v1.2.6 or later
	*
	* Examples and documentation at: http://code.google.com/p/lnet/wiki/jQueryStyledSelectOverview
	*
	* Copyright (c) 2008 Lasar Liepins, liepins.org, liepins@gmail.com
	*
	* Permission is hereby granted, free of charge, to any person obtaining a copy
	* of this software and associated documentation files (the "Software"), to deal
	* in the Software without restriction, including without limitation the rights
	* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	* copies of the Software, and to permit persons to whom the Software is
	* furnished to do so, subject to the following conditions:
	*
	* The above copyright notice and this permission notice shall be included in
	* all copies or substantial portions of the Software.
	*
	* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	* THE SOFTWARE.
	*
	*/
	
	jQuery.fn.styledSelect = function(settings) {
	//SNIPPED
		   return this;
	};
	</textarea>


	<h4>Script.js</h4>

	<p>Script.js está pensado para contener el código de su sitio o aplicación. Nuevamente, esta no es siempre la mejor solución ya que equipos de trabajo más grandes y/o proyectos más ricos en características o más grandes pueden beneficiarse realmente de segmentar el código de la aplicación en módulos o archivos sobre características específicas. Para sitios más pequeños, aplicaciones más simples y prototipos iniciales, sin embargo, colocar su trabajo en scripts.js tiene sentido.</p>

	<p>Un ejemplo simplificado, utilizando el patrón de <a href='http://paulirish.com/2009/markup-based-unobtrusive-comprehensive-dom-ready-execution/'>Ejecución imperceptible integral preparada-para-DOM basada-en-Etiquetado</a>, podría verse como algo parecido a lo siguiente:</p>

	<textarea class="brush:js">     
	/* Name: Demo
	Author: Demo King */
	/*demo namespace*/
	demo = {
	 common : {
	   init     : function(){
		   //initialize
	   },
	   finalize : function(){
		   //finalize
	   },
	   config : {
		   prop : "my value",
		   constant : "42"
	   }
	 },
	 mapping : {
	   init     : function(){
		   //create a map
	   },
	   geolocate    : function(){
		   //geolocation is cool
	   },
	   geocode : function(){
		   //look up an address or landmark
	   },
	   drawPolylines : function(){
		   //draw some lines on a map
	   },
	   placeMarker : function(){
		   //place markers on the map
	   }
	 }
	}
	</textarea>

	
	<h2>Variables, ID y Clases</h2>
	
	<p>Todas las variables de JavaScript deberán escribirse o completamente con minúsculas o en estilo camelCase. La única excepción a esto son las funciones Constructor, que se colocan en mayúsculas por tradición. Todas las declaraciones de <code>id</code> y <code>class</code> en CSS deberán escribirse en minúsculas solamente. No deben usarse guiones ni subrayados.</p>
	
	
	<h3>Delegación de Eventos</h3>
	
	<p>Al asignar detectores de eventos (event listeners) imperceptibles, es generalmente aceptable asignar el detector de eventos directamente a los elementos que activarán alguna acción resultante. Sin embargo, en ocasiones puede haber varios elementos que coincidan con los criterios que está evaluando y adjuntar  detectores de eventos a cada uno de ellos podría afectar negativamente el rendimiento. En tales casos debe utilizar la delegación de eventos en su lugar.</p>

	<p><a href="http://api.jquery.com/delegate">delegate()</a> de jQuery es preferible a <a href="http://api.jquery.com/live">live()</a> por razones de rendimiento.</p>
	
	
	<h3>Depuración</h3>
	
	<p>Incluso con el mejor de los validadores, inevitablemente ciertas peculiaridades de navegador causarán problemas. Existen varias herramientas muy valiosas que le ayudarán a perfeccionar la integridad del código y la velocidad de carga. Es importante que tenga todas estas herramientas a su disposición, a pesar del navegador que utilice principalmente para el desarrollo. Se recomienda desarrollar para Firefox y Safari en primer lugar y luego para Google Chrome y Opera, con ajustes adicionales a través de los comentarios condicionales sólo para Internet Explorer. La siguiente es una lista de depuradores y analizadores de velocidad útiles...</p>
	
	<ul>
		<li><strong>Firefox</strong>: <a href="http://getfirebug.com/">Firebug</a>, <a href="http://code.google.com/speed/page-speed/">Page Speed</a>, <a href="http://developer.yahoo.com/yslow/">YSlow</a></li>
		<li><strong>Safari</strong>: <a href="http://developer.apple.com/safari/library/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/UsingtheWebInspector/UsingtheWebInspector.html">Web Inspector</a></li>
		<li><strong>Google Chrome</strong>: <a href="http://google.com/chrome/intl/en/webmasters-faq.html#tools">Developer Tools</a></li>
		<li><strong>Opera</strong>: <a href="http://opera.com/dragonfly/">Dragonfly</a></li>
		<li><strong>Internet Explorer 6-7</strong>: <a href="http://microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038">Developer Toolbar</a></li>
		<li><strong>Internet Explorer 8-10</strong>: <a href="http://msdn.microsoft.com/en-us/library/dd565625(v=VS.85).aspx">Developer Tools</a></li>	
	</ul>
	

	<h3>Patrones para mejor JavaScript</h3>

	<ul>
		<li>Escribir código fácil de mantener</li>
		<li>Patrón Single var</li>
		<li>Elevado (Hoisting): Un problema con vars dispersas</li>
		<li>(No) Aumentar prototipos ya incorporados</li>
		<li>Evitar el typecasting implícito</li>
		<li>Evitar eval()</li>
		<li>Numerar las conversiones con parseInt()</li>
		<li>Ubicación de la llave de apertura</li>
		<li>Nombrar los constructores con primera letra en mayúsculas</li>
		<li>Escribir comentarios</li>
		<li>Evitar void</li>
		<li>Evitar la instrucción with </li>
		<li>Evitar la instrucción continue</li>
		<li>Evitar los operadores bit a bit si es posible</li>
	</ul>

	<p>Stoyan Stefanov cubre eso y más <a href="http://net.tutsplus.com/tutorials/javascript-ajax/the-essentials-of-writing-high-quality-javascript/">en detalle aqui</a>.</p>
	
</section>